{% include "includes/header.html" %}
<div class="container">
    <!-- Navigation de retour -->
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{% url 'algosAi:index' %}">Accueil</a></li>
            <li class="breadcrumb-item"><a href="{% url 'algosAi:rf_details' %}">Random Forest</a></li>
            <li class="breadcrumb-item active" aria-current="page">R√©gression Housing</li>
        </ol>
    </nav>

    <!-- Titre -->
    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-success text-white">
                    <h1 class="h3 mb-0">üå≤ Random Forest - R√©gression California Housing</h1>
                </div>
                <div class="card-body">
                    <p class="lead">Pr√©diction des prix immobiliers avec l'algorithme Random Forest et 100 arbres de d√©cision</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Navigation interne -->
    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-dark text-white">
                    <h4>üß≠ Navigation</h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-3">
                            <a href="{% url 'algosAi:rf_details' %}" class="btn btn-outline-primary btn-sm w-100 mb-2">
                                üìñ Th√©orie Random Forest
                            </a>
                        </div>
                        <div class="col-md-3">
                            <a href="{% url 'algosAi:rf_iris' %}" class="btn btn-outline-success btn-sm w-100 mb-2">
                                üå∏ Classification Iris
                            </a>
                        </div>
                        <div class="col-md-3">
                            <span class="btn btn-success btn-sm w-100 mb-2">
                                üè† R√©gression Housing (Actuel)
                            </span>
                        </div>
                        <div class="col-md-3">
                            <a href="{% url 'algosAi:rf_housing_exemple_tester' %}" class="btn btn-outline-warning btn-sm w-100 mb-2">
                                üß™ Tester le Mod√®le
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Description -->
    <div class="alert alert-info" role="alert">
        <h5>üéØ Objectif</h5>
        <p>Utiliser <strong>Random Forest</strong> pour pr√©dire les prix des logements en Californie. Ce mod√®le combine 100 arbres de d√©cision pour atteindre un <strong>R¬≤ score de 77.5%</strong> gr√¢ce √† la diversit√© des arbres et √† la r√©duction de la variance.</p>
    </div>

    <!-- Dataset California Housing -->
    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h4>üè† Dataset California Housing</h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h5>üìä Informations g√©n√©rales</h5>
                            <ul>
                                <li><strong>√âchantillons :</strong> 20,640 quartiers</li>
                                <li><strong>Caract√©ristiques :</strong> 8 variables explicatives</li>
                                <li><strong>Cible :</strong> Prix m√©dian des logements (en centaines de milliers $)</li>
                                <li><strong>Source :</strong> Recensement am√©ricain de 1990</li>
                                <li><strong>G√©ographie :</strong> Californie enti√®re</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h5>üîß Caract√©ristiques du dataset</h5>
                            <ul>
                                <li><strong>MedInc :</strong> Revenu m√©dian du quartier</li>
                                <li><strong>HouseAge :</strong> √Çge m√©dian des maisons</li>
                                <li><strong>AveRooms :</strong> Nombre moyen de pi√®ces</li>
                                <li><strong>AveBedrms :</strong> Nombre moyen de chambres</li>
                                <li><strong>Population :</strong> Population du quartier</li>
                                <li><strong>AveOccup :</strong> Occupation moyenne</li>
                                <li><strong>Latitude/Longitude :</strong> Coordonn√©es g√©ographiques</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Configuration Random Forest -->
    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-warning text-dark">
                    <h4>‚öôÔ∏è Configuration Random Forest</h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-4">
                            <h5>üå≥ Param√®tres des arbres</h5>
                            <ul>
                                <li><strong>n_estimators :</strong> 100 arbres</li>
                                <li><strong>max_depth :</strong> Aucune limite</li>
                                <li><strong>min_samples_split :</strong> 2</li>
                                <li><strong>min_samples_leaf :</strong> 1</li>
                            </ul>
                        </div>
                        <div class="col-md-4">
                            <h5>üé≤ Randomisation</h5>
                            <ul>
                                <li><strong>Bootstrap :</strong> Activ√©</li>
                                <li><strong>max_features :</strong> 1/3 des features</li>
                                <li><strong>random_state :</strong> 42 (reproductibilit√©)</li>
                                <li><strong>Bagging :</strong> Avec remise</li>
                            </ul>
                        </div>
                        <div class="col-md-4">
                            <h5>üìà M√©triques</h5>
                            <ul>
                                <li><strong>R¬≤ Score :</strong> 77.5%</li>
                                <li><strong>RMSE :</strong> 0.54</li>
                                <li><strong>MAE :</strong> 0.39</li>
                                <li><strong>Temps d'entra√Ænement :</strong> ~15s</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Performance du mod√®le -->
    <div class="row mb-4">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header bg-success text-white">
                    <h5>üìä Performance du Mod√®le</h5>
                </div>
                <div class="card-body text-center">
                    <h2 class="text-success">77.5%</h2>
                    <p>R¬≤ Score sur le jeu de test</p>
                    <p class="text-muted">Performance solide et stable</p>
                </div>
            </div>
        </div>
        
        <div class="col-md-6">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h5>üîç Importance des Caract√©ristiques</h5>
                </div>
                <div class="card-body">
                    <div class="mb-3">
                        <div class="d-flex justify-content-between">
                            <span><strong>MedInc (Revenu):</strong></span>
                            <span>52%</span>
                        </div>
                        <div class="progress">
                            <div class="progress-bar bg-success" style="width: 52%"></div>
                        </div>
                    </div>
                    <div class="mb-3">
                        <div class="d-flex justify-content-between">
                            <span><strong>AveOccup:</strong></span>
                            <span>14%</span>
                        </div>
                        <div class="progress">
                            <div class="progress-bar bg-primary" style="width: 14%"></div>
                        </div>
                    </div>
                    <div class="mb-3">
                        <div class="d-flex justify-content-between">
                            <span><strong>Latitude:</strong></span>
                            <span>13%</span>
                        </div>
                        <div class="progress">
                            <div class="progress-bar bg-info" style="width: 13%"></div>
                        </div>
                    </div>
                    <div class="mb-2">
                        <div class="d-flex justify-content-between">
                            <span><strong>Autres:</strong></span>
                            <span>21%</span>
                        </div>
                        <div class="progress">
                            <div class="progress-bar bg-secondary" style="width: 21%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Comparaison des Performances -->
    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-info text-white">
                    <h4>üìä Comparaison des Performances</h4>
                </div>
                <div class="card-body">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Algorithme</th>
                                <th>R¬≤ Score</th>
                                <th>RMSE</th>
                                <th>Temps d'entra√Ænement</th>
                                <th>Complexit√©</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>XGBoost</td>
                                <td>83.1%</td>
                                <td>0.47</td>
                                <td>~30s</td>
                                <td>√âlev√©e</td>
                            </tr>
                            <tr class="table-warning">
                                <td><strong>Random Forest</strong></td>
                                <td><strong>77.5%</strong></td>
                                <td><strong>0.54</strong></td>
                                <td><strong>~15s</strong></td>
                                <td><strong>Moyenne</strong></td>
                            </tr>
                            <tr>
                                <td>SVM</td>
                                <td>72.8%</td>
                                <td>0.60</td>
                                <td>~45s</td>
                                <td>√âlev√©e</td>
                            </tr>
                            <tr>
                                <td>Decision Tree</td>
                                <td>68.9%</td>
                                <td>0.63</td>
                                <td>~5s</td>
                                <td>Faible</td>
                            </tr>
                            <tr>
                                <td>AdaBoost</td>
                                <td>51.3%</td>
                                <td>0.79</td>
                                <td>~25s</td>
                                <td>Moyenne</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Exemples de pr√©dictions -->
    <div class="row mb-4">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header bg-success text-white">
                    <h5>üåâ Exemple: San Francisco</h5>
                </div>
                <div class="card-body">
                    <p><strong>Pr√©diction RF:</strong> ~$420k</p>
                    <ul>
                        <li>Revenu m√©dian: $82,252</li>
                        <li>√Çge moyen: 41 ans</li>
                        <li>Pi√®ces moyennes: 7.0</li>
                        <li>Position: (37.88, -122.23)</li>
                    </ul>
                    <div class="badge bg-success">Zone √† forte valeur</div>
                </div>
            </div>
        </div>
        
        <div class="col-md-6">
            <div class="card">
                <div class="card-header bg-warning text-dark">
                    <h5>üå¥ Exemple: Los Angeles</h5>
                </div>
                <div class="card-body">
                    <p><strong>Pr√©diction RF:</strong> ~$195k</p>
                    <ul>
                        <li>Revenu m√©dian: $32,596</li>
                        <li>√Çge moyen: 33 ans</li>
                        <li>Pi√®ces moyennes: 3.3</li>
                        <li>Position: (34.05, -118.24)</li>
                    </ul>
                    <div class="badge bg-warning">Zone interm√©diaire</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Avantages et Limitations -->
    <div class="row mb-4">
        <div class="col-md-6">
            <div class="card h-100">
                <div class="card-header bg-success text-white">
                    <h5>‚úÖ Avantages Random Forest</h5>
                </div>
                <div class="card-body">
                    <ul>
                        <li><strong>Robustesse :</strong> R√©sistant au surapprentissage</li>
                        <li><strong>Performance :</strong> Bon √©quilibre biais/variance</li>
                        <li><strong>Feature importance :</strong> Identifie variables cl√©s</li>
                        <li><strong>Parall√©lisation :</strong> Arbres ind√©pendants</li>
                        <li><strong>Pas de normalisation :</strong> R√©sistant aux outliers</li>
                        <li><strong>Stabilit√© :</strong> R√©sultats consistants</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="col-md-6">
            <div class="card h-100">
                <div class="card-header bg-warning text-dark">
                    <h5>‚ö†Ô∏è Limitations</h5>
                </div>
                <div class="card-body">
                    <ul>
                        <li><strong>M√©moire :</strong> Stockage de 100 arbres</li>
                        <li><strong>Interpr√©tabilit√© :</strong> Plus complexe qu'un arbre unique</li>
                        <li><strong>Surapprentissage :</strong> Possible sur petits datasets</li>
                        <li><strong>Vitesse :</strong> Plus lent qu'un arbre simple</li>
                        <li><strong>Extrapolation :</strong> Limit√© hors domaine d'entra√Ænement</li>
                        <li><strong>Hyperparam√®tres :</strong> Nombreux √† optimiser</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Call to action -->
    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h4>üß™ Tester le mod√®le</h4>
                </div>
                <div class="card-body text-center">
                    <p>Pr√™t √† voir Random Forest en action ? Testez le mod√®le avec vos propres donn√©es immobili√®res !</p>
                    <a href="{% url 'algosAi:rf_housing_exemple_tester' %}" class="btn btn-primary btn-lg">
                        üè† Tester le Mod√®le Random Forest Regression
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

{% include "includes/footer.html" %}
