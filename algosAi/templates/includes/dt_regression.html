{% include "includes/header.html" %}
<div class="container">
    <!-- Navigation de retour -->
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{% url 'algosAi:index' %}">Accueil</a></li>
            <li class="breadcrumb-item"><a href="{% url 'algosAi:dt_details' %}">Decision Tree</a></li>
            <li class="breadcrumb-item active" aria-current="page">RÃ©gression Housing</li>
        </ol>
    </nav>

    <!-- Titre -->
    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-success text-white">
                    <h1 class="h3 mb-0">ğŸŒ³ Decision Tree - RÃ©gression California Housing</h1>
                </div>
                <div class="card-body">
                    <p class="lead">PrÃ©diction des prix immobiliers avec un arbre de dÃ©cision interprÃ©table</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Navigation interne -->
    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-dark text-white">
                    <h4>ğŸ§­ Navigation</h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-3">
                            <a href="{% url 'algosAi:dt_details' %}" class="btn btn-outline-primary btn-sm w-100 mb-2">
                                ğŸ“– ThÃ©orie Decision Tree
                            </a>
                        </div>
                        <div class="col-md-3">
                            <a href="{% url 'algosAi:dt_iris' %}" class="btn btn-outline-success btn-sm w-100 mb-2">
                                ğŸŒ¸ Classification Iris
                            </a>
                        </div>
                        <div class="col-md-3">
                            <span class="btn btn-success btn-sm w-100 mb-2">
                                ğŸ  RÃ©gression Housing (Actuel)
                            </span>
                        </div>
                        <div class="col-md-3">
                            <a href="{% url 'algosAi:dt_housing_exemple_tester' %}" class="btn btn-outline-warning btn-sm w-100 mb-2">
                                ğŸ§ª Tester le ModÃ¨le
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Description -->
    <div class="alert alert-info" role="alert">
        <h5>ğŸ¯ Objectif</h5>
        <p>Utiliser un arbre de dÃ©cision pour prÃ©dire les prix des logements en Californie. Ce modÃ¨le offre l'avantage d'Ãªtre complÃ¨tement <strong>interprÃ©table</strong> : vous pouvez voir exactement quelles rÃ¨gles sont utilisÃ©es pour chaque prÃ©diction !</p>
    </div>

    <!-- Dataset California Housing -->
    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h4>ğŸ  Dataset California Housing</h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h5>ğŸ“Š Informations gÃ©nÃ©rales</h5>
                            <ul>
                                <li><strong>Ã‰chantillons :</strong> 20,640 quartiers</li>
                                <li><strong>CaractÃ©ristiques :</strong> 8 variables explicatives</li>
                                <li><strong>Cible :</strong> Prix mÃ©dian des logements (en centaines de milliers $)</li>
                                <li><strong>Source :</strong> Recensement amÃ©ricain de 1990</li>
                                <li><strong>GÃ©ographie :</strong> Californie entiÃ¨re</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h5>ğŸ”§ PrÃ©paration des donnÃ©es</h5>
                            <ul>
                                <li>âœ… DonnÃ©es dÃ©jÃ  normalisÃ©es</li>
                                <li>âœ… Pas de valeurs manquantes</li>
                                <li>âœ… Variables numÃ©riques continues</li>
                                <li>âœ… Cible continue (rÃ©gression)</li>
                                <li>âœ… Split 80/20 train/test</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- CaractÃ©ristiques dÃ©taillÃ©es -->
    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-secondary text-white">
                    <h4>ğŸ“‹ Variables explicatives</h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h5>ğŸ˜ï¸ CaractÃ©ristiques des quartiers</h5>
                            <ul>
                                <li><strong>MedInc:</strong> Revenu mÃ©dian (Facteur le plus important - 61.8%)</li>
                                <li><strong>HouseAge:</strong> Ã‚ge mÃ©dian des maisons (4.5% d'importance)</li>
                                <li><strong>Population:</strong> Population du quartier</li>
                                <li><strong>AveOccup:</strong> Occupation moyenne (13.2% d'importance)</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h5>ğŸ—ºï¸ GÃ©ographie et logements</h5>
                            <ul>
                                <li><strong>Latitude/Longitude:</strong> Position gÃ©ographique (14.5% combinÃ©)</li>
                                <li><strong>AveRooms:</strong> Nombre moyen de piÃ¨ces par logement</li>
                                <li><strong>AveBedrms:</strong> Nombre moyen de chambres par logement</li>
                                <li><strong>Cible:</strong> Prix mÃ©dian en centaines de milliers $</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Performance du modÃ¨le -->
    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-info text-white">
                    <h4>ğŸ“Š Performance du ModÃ¨le Decision Tree</h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="text-center p-3 bg-light rounded">
                                <h5>ğŸ¯ RÂ² Score</h5>
                                <h2 class="text-primary">0.689</h2>
                                <small class="text-muted">69% de la variance expliquÃ©e</small>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="text-center p-3 bg-light rounded">
                                <h5>ğŸ“ RMSE</h5>
                                <h2 class="text-warning">$63,850</h2>
                                <small class="text-muted">Erreur moyenne de prÃ©diction</small>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="text-center p-3 bg-light rounded">
                                <h5>âš–ï¸ Comparaison</h5>
                                <p><strong>vs Random Forest:</strong></p>
                                <ul class="small text-start">
                                    <li>RF: RÂ² = 0.77</li>
                                    <li>DT: RÂ² = 0.69</li>
                                    <li><strong>DT plus interprÃ©table</strong></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- MÃ©triques de rÃ©gression -->
    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-dark text-white">
                    <h4>ğŸ“ Comprendre les mÃ©triques de rÃ©gression</h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-4">
                            <h5>ğŸ¯ RÂ² (Coefficient de dÃ©termination)</h5>
                            <p>Proportion de la variance dans la variable dÃ©pendante qui est prÃ©dictible Ã  partir des variables indÃ©pendantes.</p>
                            <ul>
                                <li><strong>1.0 :</strong> PrÃ©diction parfaite</li>
                                <li><strong>0.0 :</strong> Pas mieux qu'une moyenne</li>
                                <li><strong>NÃ©gatif :</strong> Pire qu'une moyenne</li>
                            </ul>
                        </div>
                        <div class="col-md-4">
                            <h5>ğŸ“Š RMSE (Root Mean Square Error)</h5>
                            <p>Racine carrÃ©e de la moyenne des erreurs au carrÃ©. MÃªme unitÃ© que la variable cible.</p>
                            <ul>
                                <li><strong>InterprÃ©tation :</strong> Erreur "typique"</li>
                                <li><strong>Sensible :</strong> Aux valeurs aberrantes</li>
                                <li><strong>UnitÃ© :</strong> Dollars pour les prix</li>
                            </ul>
                        </div>
                        <div class="col-md-4">
                            <h5>ğŸ“ˆ MAE (Mean Absolute Error)</h5>
                            <p>Moyenne des valeurs absolues des erreurs. Plus robuste aux outliers.</p>
                            <ul>
                                <li><strong>Robuste :</strong> Aux valeurs aberrantes</li>
                                <li><strong>InterprÃ©tation :</strong> Erreur mÃ©diane</li>
                                <li><strong>LinÃ©aire :</strong> Toutes erreurs Ã©gales</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Exemple de rÃ¨gles -->
    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-success text-white">
                    <h4>ğŸŒ³ Exemple de RÃ¨gles de DÃ©cision</h4>
                </div>
                <div class="card-body">
                    <div class="alert alert-light border">
                        <h5>ğŸ“‹ RÃ¨gles simplifiÃ©es du Decision Tree :</h5>
                        <code style="display: block; white-space: pre-line; font-size: 1.1em;">
Si MedInc â‰¤ 5.0 ET Latitude > 34.0 â†’ Prix â‰ˆ $150,000
Si MedInc > 5.0 ET AveOccup â‰¤ 3.0 â†’ Prix â‰ˆ $300,000  
Si MedInc > 8.0 ET Latitude â‰¤ 37.5 â†’ Prix â‰ˆ $500,000
                        </code>
                        <small class="text-muted">* RÃ¨gles simplifiÃ©es Ã  des fins d'illustration. L'arbre complet contient plusieurs dizaines de rÃ¨gles.</small>
                    </div>
                    <p><strong>Avantage clÃ© :</strong> Chaque prÃ©diction peut Ãªtre tracÃ©e et expliquÃ©e step-by-step !</p>
                </div>
            </div>
        </div>
    </div>

    <!-- ImplÃ©mentation -->
    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-warning text-dark">
                    <h4>âš™ï¸ Ã‰tapes d'implÃ©mentation</h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h5>ğŸ”§ PrÃ©paration</h5>
                            <ol>
                                <li>Chargement du dataset California Housing</li>
                                <li>Division train/test (80/20)</li>
                                <li>Pas de normalisation requise pour DT</li>
                            </ol>
                        </div>
                        <div class="col-md-6">
                            <h5>ğŸ¯ EntraÃ®nement</h5>
                            <ol>
                                <li>Configuration DecisionTreeRegressor</li>
                                <li>Ajustement sur donnÃ©es d'entraÃ®nement</li>
                                <li>Ã‰valuation sur donnÃ©es de test</li>
                                <li>Sauvegarde du modÃ¨le final</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Alertes informatives -->
    <div class="row mb-4">
        <div class="col-md-6">
            <div class="alert alert-info" role="alert">
                <h5>â„¹ï¸ Information</h5>
                <p>Le modÃ¨le entraÃ®nÃ© et sauvegardÃ© dans cet atelier est celui utilisÃ© dans le test. Bien que lÃ©gÃ¨rement moins prÃ©cis que Random Forest, le Decision Tree offre l'avantage d'Ãªtre <strong>complÃ¨tement interprÃ©table</strong>.</p>
            </div>
        </div>
        <div class="col-md-6">
            <div class="alert alert-success" role="alert">
                <h5>âœ¨ Avantage principal</h5>
                <p>Vous pouvez tracer l'arbre de dÃ©cision et voir exactement quelles rÃ¨gles sont utilisÃ©es pour chaque prÃ©diction ! Parfait pour l'explicabilitÃ©.</p>
            </div>
        </div>
    </div>

    <!-- Call to action -->
    <div class="row">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h4>ğŸ§ª Tester le modÃ¨le</h4>
                </div>
                <div class="card-body text-center">
                    <p>PrÃªt Ã  voir le Decision Tree en action ? Testez le modÃ¨le avec vos propres donnÃ©es !</p>
                    <a href="{% url 'algosAi:dt_housing_exemple_tester' %}" class="btn btn-primary btn-lg">
                        ğŸ  Tester le ModÃ¨le Decision Tree
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

{% include "includes/footer.html" %}
