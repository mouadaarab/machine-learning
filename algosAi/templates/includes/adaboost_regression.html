{% include "includes/header.html" %}
<div class="container">
    <!-- Navigation de retour -->
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{% url 'algosAi:index' %}">Accueil</a></li>
            <li class="breadcrumb-item"><a href="{% url 'algosAi:adaboost_details' %}">AdaBoost</a></li>
            <li class="breadcrumb-item active" aria-current="page">Régression Housing</li>
        </ol>
    </nav>

    <!-- Titre -->
    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-success text-white">
                    <h1 class="h3 mb-0">🚀 AdaBoost - Régression California Housing</h1>
                </div>
                <div class="card-body">
                    <p class="lead">Prédiction des prix immobiliers avec un ensemble d'arbres de décision boostés adaptatifs</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Navigation interne -->
    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-dark text-white">
                    <h4>🧭 Navigation</h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-3">
                            <a href="{% url 'algosAi:adaboost_details' %}" class="btn btn-outline-primary btn-sm w-100 mb-2">
                                📖 Théorie AdaBoost
                            </a>
                        </div>
                        <div class="col-md-3">
                            <a href="{% url 'algosAi:adaboost_iris' %}" class="btn btn-outline-success btn-sm w-100 mb-2">
                                🌸 Classification Iris
                            </a>
                        </div>
                        <div class="col-md-3">
                            <span class="btn btn-success btn-sm w-100 mb-2">
                                🏠 Régression Housing (Actuel)
                            </span>
                        </div>
                        <div class="col-md-3">
                            <a href="{% url 'algosAi:adaboost_housing_exemple_tester' %}" class="btn btn-outline-warning btn-sm w-100 mb-2">
                                🧪 Tester le Modèle
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Description -->
    <div class="alert alert-info" role="alert">
        <h5>🎯 Objectif</h5>
        <p>Utiliser l'algorithme AdaBoost pour prédire les prix des logements en Californie. Ce modèle combine <strong>200 arbres de décision faibles</strong> de manière adaptative pour créer un prédicteur fort avec un <strong>R² score de 0.513</strong>.</p>
    </div>

    <!-- Dataset California Housing -->
    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h4>🏠 Dataset California Housing</h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h5>📊 Informations générales</h5>
                            <ul>
                                <li><strong>Échantillons :</strong> 20,640 quartiers</li>
                                <li><strong>Caractéristiques :</strong> 8 variables explicatives</li>
                                <li><strong>Cible :</strong> Prix médian des logements (en centaines de milliers $)</li>
                                <li><strong>Source :</strong> Recensement américain de 1990</li>
                                <li><strong>Géographie :</strong> Californie entière</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h5>🔧 Préparation des données</h5>
                            <ul>
                                <li>✅ Données déjà normalisées</li>
                                <li>✅ Pas de valeurs manquantes</li>
                                <li>✅ Variables numériques continues</li>
                                <li>✅ Cible continue (régression)</li>
                                <li>✅ Split 80/20 train/test</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Performance du modèle -->
    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-info text-white">
                    <h4>📊 Performance du Modèle AdaBoost</h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="text-center p-3 bg-light rounded">
                                <h5>🎯 R² Score</h5>
                                <h2 class="text-primary">0.513</h2>
                                <small class="text-muted">51.3% de la variance expliquée</small>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="text-center p-3 bg-light rounded">
                                <h5>📏 RMSE</h5>
                                <h2 class="text-info">0.799</h2>
                                <small class="text-muted">Erreur (centaines de milliers $)</small>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="text-center p-3 bg-light rounded">
                                <h5>📈 MSE</h5>
                                <h2 class="text-warning">0.639</h2>
                                <small class="text-muted">Erreur quadratique moyenne</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Métriques de régression -->
    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-dark text-white">
                    <h4>📏 Comprendre les métriques de régression</h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-4">
                            <h5>🎯 R² (Coefficient de détermination)</h5>
                            <p>Proportion de la variance dans la variable dépendante qui est prédictible à partir des variables indépendantes.</p>
                            <ul>
                                <li><strong>1.0 :</strong> Prédiction parfaite</li>
                                <li><strong>0.0 :</strong> Pas mieux qu'une moyenne</li>
                                <li><strong>Négatif :</strong> Pire qu'une moyenne</li>
                            </ul>
                        </div>
                        <div class="col-md-4">
                            <h5>📊 RMSE (Root Mean Square Error)</h5>
                            <p>Racine carrée de la moyenne des erreurs au carré. Même unité que la variable cible.</p>
                            <ul>
                                <li><strong>Interprétation :</strong> Erreur "typique"</li>
                                <li><strong>Sensible :</strong> Aux valeurs aberrantes</li>
                                <li><strong>Unité :</strong> Centaines de milliers $</li>
                            </ul>
                        </div>
                        <div class="col-md-4">
                            <h5>📈 MSE (Mean Square Error)</h5>
                            <p>Moyenne des erreurs au carré. Plus sensible aux grandes erreurs.</p>
                            <ul>
                                <li><strong>Formule :</strong> MSE = RMSE²</li>
                                <li><strong>Pénalise :</strong> Fortement les grandes erreurs</li>
                                <li><strong>Optimisation :</strong> Fonction objectif courante</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Importance des caractéristiques -->
    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-success text-white">
                    <h4>🔍 Importance des Caractéristiques</h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h5>💰 Facteurs Économiques</h5>
                            <ul>
                                <li><strong>MedInc (Revenu médian):</strong> 17.7% <span class="badge bg-warning">Important</span></li>
                                <li><strong>AveOccup (Occupation moyenne):</strong> 12.8%</li>
                                <li><strong>AveRooms (Pièces moyennes):</strong> 10.8%</li>
                                <li><strong>AveBedrms (Chambres moyennes):</strong> 7.4%</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h5>🗺️ Facteurs Géographiques</h5>
                            <ul>
                                <li><strong>Longitude:</strong> 16.8% <span class="badge bg-warning">Important</span></li>
                                <li><strong>Latitude:</strong> 15.7% <span class="badge bg-warning">Important</span></li>
                                <li><strong>Population:</strong> 10.4%</li>
                                <li><strong>HouseAge (Âge des maisons):</strong> 8.4%</li>
                            </ul>
                        </div>
                    </div>
                    <div class="alert alert-info mt-3">
                        <strong>💡 Insight :</strong> L'emplacement géographique (Longitude + Latitude = 32.5%) et le revenu médian (17.7%) sont les facteurs les plus déterminants pour le prix des logements en Californie.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Configuration et implémentation -->
    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-warning text-dark">
                    <h4>⚙️ Configuration du Modèle AdaBoost</h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h5>🔧 Paramètres</h5>
                            <ul>
                                <li><strong>n_estimators :</strong> 200 arbres faibles</li>
                                <li><strong>learning_rate :</strong> 1.0 (par défaut)</li>
                                <li><strong>loss :</strong> 'linear' pour régression</li>
                                <li><strong>base_estimator :</strong> DecisionTreeRegressor</li>
                                <li><strong>random_state :</strong> 42 (reproductibilité)</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h5>📈 Étapes d'implémentation</h5>
                            <ol>
                                <li>Chargement du dataset California Housing</li>
                                <li>Division train/test (80/20)</li>
                                <li>Configuration AdaBoostRegressor</li>
                                <li>Entraînement sur 200 itérations</li>
                                <li>Évaluation et sauvegarde du modèle</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Comparaison avec autres algorithmes -->
    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-secondary text-white">
                    <h4>⚖️ Comparaison avec d'autres algorithmes</h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-3">
                            <h5>🌳 Decision Tree</h5>
                            <ul>
                                <li><strong>R² :</strong> 0.689</li>
                                <li><strong>Avantage :</strong> Interprétable</li>
                                <li><strong>Inconvénient :</strong> Surapprentissage</li>
                            </ul>
                        </div>
                        <div class="col-md-3">
                            <h5>🌲 Random Forest</h5>
                            <ul>
                                <li><strong>R² :</strong> 0.77</li>
                                <li><strong>Avantage :</strong> Très précis</li>
                                <li><strong>Inconvénient :</strong> Moins interprétable</li>
                            </ul>
                        </div>
                        <div class="col-md-3">
                            <h5>🚀 AdaBoost</h5>
                            <ul>
                                <li><strong>R² :</strong> 0.513</li>
                                <li><strong>Avantage :</strong> Adaptatif</li>
                                <li><strong>Inconvénient :</strong> Sensible au bruit</li>
                            </ul>
                        </div>
                        <div class="col-md-3">
                            <h5>⚡ XGBoost</h5>
                            <ul>
                                <li><strong>R² :</strong> ~0.8+</li>
                                <li><strong>Avantage :</strong> État de l'art</li>
                                <li><strong>Inconvénient :</strong> Complexe</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Alertes informatives -->
    <div class="row mb-4">
        <div class="col-md-6">
            <div class="alert alert-info" role="alert">
                <h5>ℹ️ Information</h5>
                <p>Le modèle entraîné et sauvegardé dans cet atelier est celui utilisé dans le test. AdaBoost utilise des arbres de régression faibles qui s'améliorent progressivement en se concentrant sur les prédictions les plus difficiles.</p>
            </div>
        </div>
        <div class="col-md-6">
            <div class="alert alert-success" role="alert">
                <h5>✨ Avantage d'AdaBoost</h5>
                <p>L'algorithme adapte automatiquement le focus sur les échantillons avec les plus grandes erreurs de prédiction, améliorant progressivement la performance globale !</p>
            </div>
        </div>
    </div>

    <!-- Call to action -->
    <div class="row">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h4>🧪 Tester le modèle</h4>
                </div>
                <div class="card-body text-center">
                    <p>Prêt à voir AdaBoost en action ? Testez le modèle avec vos propres données !</p>
                    <a href="{% url 'algosAi:adaboost_housing_exemple_tester' %}" class="btn btn-primary btn-lg">
                        🏠 Tester le Modèle AdaBoost
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

{% include "includes/footer.html" %}
                        <h6>Paramètres AdaBoost</h6>
                    </div>
                    <div class="card-body">
                        <ul>
                            <li><strong>n_estimators:</strong> 200</li>
                            <li><strong>learning_rate:</strong> 0.8</li>
                            <li><strong>loss:</strong> linear</li>
                            <li><strong>base_estimator:</strong> DecisionTreeRegressor (max_depth=6)</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h6>Données d'Entraînement</h6>
                    </div>
                    <div class="card-body">
                        <ul>
                            <li><strong>Échantillons totaux:</strong> 20,640</li>
                            <li><strong>Entraînement:</strong> 16,512 (80%)</li>
                            <li><strong>Test:</strong> 4,128 (20%)</li>
                            <li><strong>Features:</strong> 8 caractéristiques</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="mt-4">
        <h3>Interprétation des Résultats</h3>
        <div class="alert alert-light border">
            <h6>Comment interpréter les prédictions :</h6>
            <ul>
                <li><strong>Unité de prédiction:</strong> Centaines de milliers de dollars</li>
                <li><strong>Exemple:</strong> Une prédiction de 3.5 = 350,000$</li>
                <li><strong>Précision:</strong> ±79,900$ en moyenne (RMSE)</li>
                <li><strong>Facteurs clés:</strong> Le revenu médian de la zone est le plus prédictif</li>
            </ul>
        </div>
    </div>
</div>
{% include "includes/footer.html" %}
